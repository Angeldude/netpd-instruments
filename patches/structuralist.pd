#N canvas 507 64 895 523 10;
#N canvas 175 69 519 625 rhythm.generate 0;
#X obj 48 55 bng 15 250 50 0 empty empty create 17 7 0 10 -262144 -1
-1;
#X floatatom 124 81 5 0 0 2 count - -, f 5;
#X obj 49 80 nbx 3 14 0 0 0 0 empty empty ref 40 8 0 10 -262144 -1
-1 0 256;
#X obj 49 96 nbx 3 14 1 30 0 0 empty empty notecount 40 8 0 10 -262144
-1 -1 4 256;
#X obj 49 112 nbx 3 14 1 999 0 0 empty empty length 40 8 0 10 -262144
-1 -1 4 256;
#X obj 264 422 r \$0.rhythm.i;
#X obj 264 465 s \$0.rhythm.o;
#X obj 308 250 s \$0.rhythm.i;
#X obj 308 273 r \$0.rhythm.o;
#X obj 281 229 t b a;
#X obj 281 297 list append;
#X obj 237 22 r \$0.rhythm.o;
#X obj 237 44 route count;
#X obj 38 231 f;
#X obj 38 253 sel 0;
#X obj 38 340 f;
#X obj 38 362 t b a;
#X msg 65 387 new \$1;
#X obj 65 409 s \$0.rhythm.i;
#X obj 55 443 r \$0.rhythm.o;
#X obj 55 465 route count;
#X obj 38 499 list prepend;
#X obj 38 415 f;
#X msg 38 521 set \$1 length \$2;
#X obj 38 544 s \$0.rhythm.i;
#X msg 65 277 alias \$1;
#X obj 65 299 s \$0.rhythm.i;
#X msg 120 23 range 0 \$1;
#X obj 264 443 ../abs/struct_container length;
#X msg 263 127 reset;
#X obj 290 170 s \$0.rhythm.i;
#X obj 263 149 t b a;
#X obj 11 200 s \$0.rhythm.update;
#X obj 11 174 t b a;
#X obj 263 194 s \$0.rhythm.reset;
#X obj 110 55 bng 15 250 50 0 empty empty reset 17 7 0 10 -262144 -1
-1;
#X connect 0 0 33 0;
#X connect 2 0 13 1;
#X connect 3 0 15 1;
#X connect 4 0 22 1;
#X connect 5 0 28 0;
#X connect 8 0 10 1;
#X connect 9 0 10 0;
#X connect 9 1 7 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 12 0 27 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 1 25 0;
#X connect 15 0 16 0;
#X connect 16 0 22 0;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 19 0 20 0;
#X connect 20 0 21 1;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 25 0 26 0;
#X connect 27 0 2 0;
#X connect 28 0 6 0;
#X connect 29 0 31 0;
#X connect 31 0 34 0;
#X connect 31 1 30 0;
#X connect 33 0 32 0;
#X connect 33 1 13 0;
#X connect 35 0 29 0;
#X coords 0 -1 1 1 120 90 1 40 40;
#X restore 30 13 pd rhythm.generate;
#N canvas 609 64 646 683 rhythm.edit 0;
#X obj 161 20 hradio 15 1 0 1 empty empty empty 0 -8 0 10 -228856 -1
-1 0;
#X msg 55 222 number \$1;
#X obj 43 112 route count;
#X obj 28 200 t a a;
#X obj 28 177 change 1;
#X obj 28 155 max 1;
#X obj 28 249 t a;
#X obj 28 525 ../abs/numberarray pd-\$0.rhythm.array;
#N canvas 0 44 631 256 \$0.rhythm.array 0;
#X coords 0 0 600 12 600 12 2 0 0;
#X restore 20 35 pd \$0.rhythm.array;
#X obj 55 393 s \$0.rhythm.i;
#X obj 55 416 r \$0.rhythm.o;
#X obj 28 372 t b a;
#X obj 28 440 list append;
#X obj 43 90 r \$0.rhythm.o;
#X msg 28 350 get \$1 data;
#X obj 28 298 + 1;
#X msg 167 481 reset;
#X msg 28 492 add \$1;
#N canvas 507 320 146 198 serialize 0;
#X obj 9 118 list split 1;
#X obj 9 74 until;
#X obj 9 96 list append;
#X obj 9 53 t b a;
#X obj 9 30 inlet;
#X obj 9 143 outlet;
#X connect 0 0 5 0;
#X connect 0 1 2 1;
#X connect 0 2 1 1;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 4 0 3 0;
#X restore 28 467 pd serialize;
#X obj 28 547 list prepend;
#X obj 28 222 - 1;
#X obj 28 320 t a b a;
#X msg 28 569 set \$1 \$2 \$3;
#X obj 28 593 s \$0.rhythm.i;
#X obj 28 134 f;
#X obj 28 64 r \$0.rhythm.update;
#X obj 167 441 r \$0.rhythm.reset;
#X obj 106 165 r \$0.rhythm.reset;
#X msg 106 187 1;
#X connect 0 0 15 0;
#X connect 1 0 6 0;
#X connect 2 0 24 1;
#X connect 3 0 20 0;
#X connect 3 1 1 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 19 0;
#X connect 10 0 12 1;
#X connect 11 0 12 0;
#X connect 11 1 9 0;
#X connect 12 0 18 0;
#X connect 13 0 2 0;
#X connect 14 0 11 0;
#X connect 15 0 21 0;
#X connect 16 0 7 0;
#X connect 17 0 7 0;
#X connect 18 0 17 0;
#X connect 19 0 22 0;
#X connect 20 0 6 0;
#X connect 21 0 14 0;
#X connect 21 1 16 0;
#X connect 21 2 19 1;
#X connect 22 0 23 0;
#X connect 24 0 5 0;
#X connect 25 0 24 0;
#X connect 26 0 16 0;
#X connect 27 0 28 0;
#X connect 28 0 1 0;
#X coords 0 -1 1 1 600 27 1 20 20;
#X restore 161 13 pd rhythm.edit;
#N canvas 175 69 519 625 pitch.generate 0;
#X obj 49 63 bng 15 250 50 0 empty empty create 17 7 0 10 -262144 -1
-1;
#X obj 22 192 f;
#X msg 221 194 0;
#X text 331 213 read count;
#X text 331 237 read position of last;
#X obj 221 325 sel 0;
#X msg 221 347 1000;
#X obj 22 154 t b b;
#X obj 82 283 + 1;
#X obj 22 312 pack f f f f f;
#X obj 22 352 t a a a a a a a;
#N canvas 498 102 298 125 set.counter 0;
#X obj 12 10 inlet;
#X msg 12 33 0 \$4;
#X obj 12 55 s \$0.pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 109 381 pd set.counter;
#N canvas 497 152 379 174 set.posref 0;
#X obj 23 9 inlet;
#X msg 23 34 \$4 \$5;
#X obj 23 59 s \$0.pitch;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 94 401 pd set.posref;
#N canvas 585 275 450 300 set.size 0;
#X obj 27 12 inlet;
#X obj 227 72 t a a;
#X obj 227 231 pack f f;
#X msg 227 114 \$5;
#X msg 307 104 \$1;
#X text 336 103 ref;
#X text 255 114 addr;
#X msg 307 151 \$1;
#X text 335 150 addr;
#X msg 307 196 \$1;
#X text 334 197 size (of ref);
#X text 197 33 if ref!=0 \, use ref's size;
#X obj 164 242 - 5;
#X obj 164 264 outlet;
#X text 197 15 if ref==0 \, use rhythm size to set size;
#X obj 27 34 route 0;
#X obj 307 129 tabread \$0.pitch;
#X obj 307 175 tabread \$0.pitch;
#X obj 227 254 s \$0.pitch;
#X obj 27 254 s \$0.pitch;
#X msg 54 127 \$1;
#X text 82 126 addr;
#X msg 54 172 \$1;
#X text 81 173 size (of ref);
#X obj 27 56 t a a;
#X obj 54 105 tabread \$0.rhythm;
#X obj 54 149 tabread \$0.rhythm;
#X text 55 197 addr;
#X obj 27 219 pack f f;
#X msg 54 80 \$1;
#X msg 27 197 \$4;
#X text 83 79 rhythm;
#X connect 0 0 15 0;
#X connect 1 0 3 0;
#X connect 1 1 4 0;
#X connect 2 0 18 0;
#X connect 3 0 2 0;
#X connect 4 0 16 0;
#X connect 7 0 17 0;
#X connect 9 0 2 1;
#X connect 9 0 12 0;
#X connect 12 0 13 0;
#X connect 15 0 24 0;
#X connect 15 1 1 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 20 0 26 0;
#X connect 22 0 12 0;
#X connect 22 0 28 1;
#X connect 24 0 30 0;
#X connect 24 1 29 0;
#X connect 25 0 20 0;
#X connect 26 0 22 0;
#X connect 28 0 19 0;
#X connect 29 0 25 0;
#X connect 30 0 28 0;
#X restore 80 423 pd set.size;
#N canvas 585 275 450 300 set.ref 0;
#X obj 27 12 inlet;
#X obj 27 34 t a a;
#X obj 27 119 pack f f;
#X msg 27 75 \$5;
#X obj 27 97 + 1;
#X msg 72 86 \$1;
#X obj 27 161 s \$0.pitch;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 5 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 2 1;
#X restore 65 444 pd set.ref;
#N canvas 614 212 341 313 set.data 0;
#X obj 27 12 inlet;
#X msg 89 74 \$5;
#X obj 89 96 + 5;
#X msg 89 118 set \$1;
#X msg 27 246;
#X msg 27 217 bang \, set;
#X obj 44 84 until;
#X obj 44 159 f;
#X msg 44 189 add2 \$1;
#X obj 175 88 sel 0;
#X msg 175 110 0;
#X msg 202 110 -1;
#X msg 175 64 \$1, f 4;
#X text 210 64 ref;
#X text 131 172 default to -1 \, when ref is set;
#X text 132 187 otherwise default to 0;
#X obj 27 34 t b b a a;
#X obj 44 61 f;
#X obj 125 18 inlet;
#X obj 27 273 s \$0.pitch;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 19 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 10 0 7 1;
#X connect 11 0 7 1;
#X connect 12 0 9 0;
#X connect 16 0 5 0;
#X connect 16 1 17 0;
#X connect 16 2 1 0;
#X connect 16 3 12 0;
#X connect 17 0 6 0;
#X connect 18 0 17 1;
#X restore 22 511 pd set.data;
#X obj 221 369 t a;
#X obj 221 262 t a a;
#X obj 221 304 +;
#X text 358 285 read length of last;
#X floatatom 124 81 5 0 0 2 count - -, f 5;
#X obj 316 136 change;
#X obj 316 46 b;
#X msg 316 91 0;
#X obj 316 68 del 0;
#X msg 316 158 count \$1;
#X obj 49 80 nbx 3 14 0 0 0 0 empty empty ref 40 8 0 10 -262144 -1
-1 0 256;
#X msg 239 159 range 0 \$1;
#X obj 49 96 nbx 3 14 1 0 0 0 empty empty rhythm 40 8 0 10 -262144
-1 -1 0 256;
#X obj 49 112 nbx 3 14 0 128 0 0 empty empty pitch 40 8 0 10 -262144
-1 -1 0 256;
#X obj 316 24 r \$0.pitch;
#X obj 316 114 tabread \$0.pitch;
#X obj 316 179 s \$0.pitch_;
#X obj 221 216 tabread \$0.pitch;
#X obj 221 240 tabread \$0.pitch;
#X obj 248 285 tabread \$0.pitch;
#X obj 209 23 r \$0.rhythm_;
#X obj 209 49 route count;
#X msg 209 73 range 1 \$1;
#N canvas 585 275 450 300 set.rhyhthm 0;
#X obj 27 12 inlet;
#X obj 27 84 t a a;
#X obj 27 169 pack f f;
#X obj 27 147 + 2;
#X obj 177 72 t a a;
#X obj 177 242 pack f f;
#X msg 177 114 \$5;
#X msg 257 104 \$1;
#X text 286 103 ref;
#X text 205 114 addr;
#X msg 257 151 \$1;
#X text 285 150 addr;
#X msg 257 216 \$1;
#X text 197 33 if ref!=0 \, use ref's length;
#X text 197 15 if ref==0 \, use input to set length;
#X obj 27 34 route 0;
#X msg 27 125 \$4;
#X obj 177 136 + 2;
#X obj 257 173 + 2;
#X text 284 217 length (of ref);
#X obj 27 211 s \$0.pitch;
#X obj 257 129 tabread \$0.pitch;
#X obj 257 195 tabread \$0.pitch;
#X obj 177 265 s \$0.pitch;
#X msg 72 136 \$1;
#X connect 0 0 15 0;
#X connect 1 0 16 0;
#X connect 1 1 24 0;
#X connect 2 0 20 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 4 1 7 0;
#X connect 5 0 23 0;
#X connect 6 0 17 0;
#X connect 7 0 21 0;
#X connect 10 0 18 0;
#X connect 12 0 5 1;
#X connect 15 0 1 0;
#X connect 15 1 4 0;
#X connect 16 0 3 0;
#X connect 17 0 5 0;
#X connect 18 0 22 0;
#X connect 21 0 10 0;
#X connect 22 0 12 0;
#X connect 24 0 2 1;
#X restore 51 466 pd set.rhyhthm;
#N canvas 585 275 337 237 set.pitch 0;
#X obj 27 12 inlet;
#X obj 27 88 t a a;
#X obj 27 137 + 3;
#X obj 27 159 list append;
#X msg 27 115 \$4;
#X obj 27 201 s \$0.pitch;
#X msg 90 131 \$2;
#X obj 27 37 route 0;
#X obj 164 143 + 3;
#X msg 164 121 \$5;
#X msg 164 165 \$1 -1;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 1 1 6 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 6 0 3 1;
#X connect 7 0 1 0;
#X connect 7 1 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 10 0 5 0;
#X restore 36 488 pd set.pitch;
#X connect 0 0 7 0;
#X connect 1 0 9 0;
#X connect 2 0 33 0;
#X connect 5 0 6 0;
#X connect 5 1 16 0;
#X connect 6 0 16 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 3;
#X connect 9 0 10 0;
#X connect 10 0 15 0;
#X connect 10 1 40 0;
#X connect 10 2 39 0;
#X connect 10 3 14 0;
#X connect 10 4 13 0;
#X connect 10 5 12 0;
#X connect 10 6 11 0;
#X connect 13 0 15 1;
#X connect 16 0 9 4;
#X connect 17 0 18 0;
#X connect 17 1 35 0;
#X connect 18 0 5 0;
#X connect 21 0 25 0;
#X connect 21 0 20 0;
#X connect 21 0 27 0;
#X connect 22 0 24 0;
#X connect 23 0 31 0;
#X connect 24 0 23 0;
#X connect 25 0 32 0;
#X connect 26 0 1 1;
#X connect 27 0 26 0;
#X connect 28 0 9 1;
#X connect 29 0 9 2;
#X connect 30 0 22 0;
#X connect 31 0 21 0;
#X connect 33 0 8 0;
#X connect 33 0 34 0;
#X connect 34 0 17 0;
#X connect 35 0 18 1;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 28 0;
#X coords 0 -1 1 1 120 90 1 40 40;
#X restore 33 172 pd pitch.generate;
#X floatatom 164 248 5 0 0 0 - - -, f 5;
#X floatatom 164 205 5 0 0 0 - - -, f 5;
#X msg 275 223 const 0;
#X text 281 203 reset;
#X obj 275 245 s \$0.pitch;
#X obj 164 226 tabread \$0.pitch;
#X obj 646 245 table \$0.pitch 3000;
#N canvas 461 54 646 683 pitch.edit 0;
#X obj 161 20 hradio 15 1 0 1 empty empty empty 0 -8 0 10 -228856 -1
-1 0;
#X msg 55 182 number \$1;
#X obj 28 93 route count;
#X obj 28 160 t a a;
#X obj 28 268 + 1;
#X obj 28 364 - 5;
#X obj 28 137 change 1;
#X obj 55 365 + 5;
#X obj 28 312 t a a b;
#X msg 149 430 reset;
#X obj 28 408 until;
#X obj 28 432 f;
#X obj 61 433 + 1;
#X msg 28 478 add \$1;
#X obj 28 115 max 1;
#X obj 28 568 +;
#X obj 28 590 pack f f;
#X obj 28 539 unpack f f;
#X obj 55 387 t a a;
#X obj 28 209 t a;
#X obj 28 71 r \$0.pitch_;
#X obj 28 290 tabread \$0.pitch;
#X obj 28 343 tabread \$0.pitch;
#X obj 28 455 tabread \$0.pitch;
#X obj 28 614 s \$0.pitch;
#N canvas 0 44 631 256 \$0.pitch.array 0;
#X coords 0 0 600 12 600 12 2 0 0;
#X restore 20 35 pd \$0.pitch.array;
#X obj 28 517 ../abs/numberarray pd-\$0.pitch.array;
#X connect 0 0 4 0;
#X connect 1 0 19 0;
#X connect 2 0 14 0;
#X connect 3 0 19 0;
#X connect 3 1 1 0;
#X connect 4 0 21 0;
#X connect 5 0 10 0;
#X connect 6 0 3 0;
#X connect 7 0 18 0;
#X connect 8 0 22 0;
#X connect 8 1 7 0;
#X connect 8 2 9 0;
#X connect 9 0 26 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 0 23 0;
#X connect 12 0 11 1;
#X connect 13 0 26 0;
#X connect 14 0 6 0;
#X connect 15 0 16 0;
#X connect 16 0 24 0;
#X connect 17 0 15 0;
#X connect 17 1 16 1;
#X connect 18 0 11 1;
#X connect 18 1 15 1;
#X connect 19 0 0 0;
#X connect 20 0 2 0;
#X connect 21 0 8 0;
#X connect 22 0 5 0;
#X connect 23 0 13 0;
#X connect 26 0 17 0;
#X coords 0 -1 1 1 600 27 1 20 20;
#X restore 164 172 pd pitch.edit;
#N canvas 991 190 545 550 player 0;
#X floatatom 157 111 5 0 0 0 - - -, f 5;
#X obj 157 136 tabread \$0.pitch;
#X obj 184 182 + 2;
#X obj 184 204 tabread \$0.pitch;
#X obj 184 260 tabread \$0.rhythm;
#X text 207 109 pitch set;
#X text 205 232 rhythm set;
#X obj 387 347 + 2;
#X obj 387 367 tabread \$0.rhythm;
#X text 423 417 length;
#X floatatom 387 418 5 0 0 0 - - -, f 5;
#X obj 272 368 tabread \$0.rhythm;
#X obj 272 390 - 5;
#X floatatom 272 417 5 0 0 0 - - -, f 5;
#X text 306 417 notecount;
#X obj 157 158 t a a;
#X obj 157 181 + 5;
#X obj 31 280 +;
#X floatatom 31 201 5 0 0 0 - - -, f 5;
#X obj 31 361 tabread \$0.pitch;
#X floatatom 31 410 5 0 0 0 - - -, f 5;
#X text 65 410 pitch;
#X obj 184 282 t a a a;
#X obj 31 220 t a a;
#X obj 184 304 + 5;
#X obj 136 334 +;
#X floatatom 136 406 5 0 0 0 - - -, f 5;
#X text 170 406 rhythm;
#X text 66 200 index;
#X obj 136 361 tabread \$0.rhythm;
#X obj 35 121 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 1 0;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 22 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 15 0 16 0;
#X connect 15 1 2 0;
#X connect 16 0 17 1;
#X connect 17 0 19 0;
#X connect 18 0 23 0;
#X connect 19 0 20 0;
#X connect 22 0 24 0;
#X connect 22 1 11 0;
#X connect 22 2 7 0;
#X connect 23 0 17 0;
#X connect 23 1 25 0;
#X connect 24 0 25 1;
#X connect 25 0 29 0;
#X connect 29 0 26 0;
#X restore 38 332 pd player;
#X connect 4 0 8 0;
#X connect 5 0 7 0;
#X connect 8 0 3 0;
