#N canvas 268 296 640 238 10;
#N canvas 49 305 742 324 fft-analysis 0;
#X obj 386 58 *~;
#X obj 386 18 inlet~;
#X obj 386 78 rfft~;
#X obj 402 38 tabreceive~ \$0-hann;
#X obj 16 228 *~;
#X obj 32 208 tabreceive~ \$0-hann;
#X obj 16 168 rifft~;
#X obj 16 248 outlet~;
#X obj 32 38 wrap~;
#X obj 16 58 -~;
#X obj 16 98 /~ 44.1;
#X obj 279 48 *~;
#X obj 178 49 *~;
#X obj 606 58 block~ 512 4;
#X obj 16 78 *~ 512;
#X obj 117 138 vd~ \$0-phase;
#X obj 16 138 vd~ \$0-amp;
#X obj 16 188 /~ 512;
#X obj 417 118 delwrite~ \$0-phase 6000;
#X obj 386 138 delwrite~ \$0-amp 6000;
#X obj 327 251 ifft~;
#X obj 408 256 fft~;
#X obj 474 263 rfft~;
#X obj 16 18 tabreceive~ \$1-\$2/delay;
#X obj 194 18 tabreceive~ \$1-\$2/feedback;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 19 0;
#X connect 2 1 18 0;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 17 0;
#X connect 8 0 9 1;
#X connect 9 0 14 0;
#X connect 10 0 15 0;
#X connect 10 0 16 0;
#X connect 11 0 18 0;
#X connect 12 0 19 0;
#X connect 14 0 10 0;
#X connect 15 0 6 1;
#X connect 15 0 11 0;
#X connect 16 0 6 0;
#X connect 16 0 12 0;
#X connect 17 0 4 0;
#X connect 23 0 8 0;
#X connect 23 0 9 0;
#X connect 24 0 12 1;
#X connect 24 0 11 1;
#X restore 439 80 pd fft-analysis;
#N canvas 35 66 485 367 Hann-window 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-hann 512 float 0;
#X coords 0 1 511 0 200 120 1;
#X restore 233 189 graph;
#X msg 152 182 0;
#X obj 56 222 osc~;
#X obj 56 182 samplerate~;
#X obj 56 242 *~ -0.5;
#X obj 56 262 +~ 0.5;
#X obj 41 292 tabwrite~ \$0-hann;
#X text 219 181 1;
#X text 212 299 0;
#X text 228 312 0;
#X obj 56 202 / 512;
#X text 104 220 period 512;
#X obj 41 65 loadbang;
#X text 40 27 The Hann window is now recomputed on 'loadbang' to make
the file smaller (it doesn't have to be saved with the array.);
#X text 414 315 511;
#X text 67 131 recalculate Hann window table;
#X obj 41 150 b;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 10 0 2 0;
#X connect 12 0 16 0;
#X connect 16 0 1 0;
#X connect 16 0 3 0;
#X connect 16 0 6 0;
#X restore 299 64 pd Hann-window;
#N canvas 1237 128 227 178 delay-const 0;
#X msg 17 55 const \$1;
#X obj 17 23 r \$0-delay-const;
#X obj 17 89 s \$1-\$2/delay;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X restore 19 90 pd delay-const;
#N canvas 730 100 227 150 feedback-const 0;
#X msg 17 55 const \$1;
#X obj 17 23 r \$0-feedback-const;
#X obj 17 86 s \$1-\$2/feedback;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X restore 19 130 pd feedback-const;
#X text 18 178 code borrowed from spectral_delay.pd by Johannes Kreidler
and Orm Finnendahl 2006 slightly corrected by Roman Haefeli addapted
for netpd by Enrique Erne;
#N canvas 419 45 311 214 \$3-e-spect 1;
#N canvas 0 22 454 304 (subpatch) 0;
#X array \$1-\$2/delay 256 float 2;
#X coords 0 128 256 0 256 60 1;
#X restore 17 -19 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$1-\$2/feedback 256 float 2;
#X coords 0 1 256 0 256 60 1;
#X restore 17 57 graph;
#X obj 273 -17 vsl 15 56 0 128 0 0 \$0-delay-const \$0-delay-const-r
empty 0 -8 0 8 -262144 -1 -1 0 0;
#X obj 273 59 vsl 15 56 0 1 0 0 \$0-feedback-const \$0-feedback-const-r
empty 0 -8 0 8 -262144 -1 -1 0 0;
#X text 19 130 !!! THIS IS MONO !!!;
#X restore 299 20 pd \$3-e-spect;
#N canvas 945 72 292 252 NETPD 0;
#X msg -3 9 version 0 1 3;
#X restore 299 42 pd NETPD 2 0;
#X obj 439 20 inlet~;
#X obj 546 20 inlet~;
#X obj 439 150 outlet~;
#X obj 546 150 outlet~;
#X obj 19 20 netpd_t \$1 \$2/delay 256;
#X obj 19 40 netpd_t \$1 \$2/feedback 256;
#X connect 0 0 9 0;
#X connect 0 0 10 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
